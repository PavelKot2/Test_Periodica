'use strict';(function () {var picLoader = document.querySelector('#picLoad');var button = document.querySelector('.form__btn');var mainImage = document.querySelector('#image');//Loading new imagebutton.addEventListener('click', function (evt) {	evt.preventDefault(); //reset all default functions	if (picLoader.value.length < 5) {		alert('АЛЛЯРМ!!! Поле не может быть пустым'); //validation	} else  {		mainImage.setAttribute("xlink:href", picLoader.value);//changing image link	}});// Make slider change img sizevar sliderLine = document.querySelector('.form__range');var sliderPin = document.querySelector('.form__range-pin');var sliderFillLine = document.querySelector('.form__range-fill');sliderPin.addEventListener('mousedown', function (evt) {	evt.preventDefault();	var startCoords = evt.clientX;	var onMouseMove = function (moveEvt) {		moveEvt.preventDefault();		var shiftX = startCoords - moveEvt.clientX;		startCoords = moveEvt.clientX;		var pinPosition = Math.round(((sliderPin.offsetLeft - shiftX) / sliderLine.offsetWidth) * 100);		if (pinPosition < 0) {			pinPosition = 0;		} else if (pinPosition > 100) {			pinPosition = 100;		}		sliderPin.style.left = pinPosition + '%';		sliderFillLine.style.width = sliderPin.style.left;		changeImgSize(pinPosition);	};	var onMouseUp = function (upEvt) {		upEvt.preventDefault();		document.removeEventListener('mousemove', onMouseMove);		document.removeEventListener('mouseup', onMouseUp);	};	document.addEventListener('mousemove', onMouseMove);	document.addEventListener('mouseup', onMouseUp);});var changeImgSize = function (pinValue) {	var MIN_IMG_SIZE = 228;	var calculation = Math.round(MIN_IMG_SIZE * (1+(pinValue * 2)/100));	mainImage.setAttribute('width', calculation);	mainImage.setAttribute('height', calculation);};// Dragging image inside SVG block.mainImage.addEventListener('mousedown', function (e) {	e.preventDefault();	debugger;	var widthValue = mainImage.getAttribute('width');	var heightValue = mainImage.getAttribute('height');	var shiftX = e.clientX - widthValue / 2;	var shiftY = e.clientY - heightValue / 2;	var onMouseMove = function (moveE) {		moveE.preventDefault();		var MAXVAL = 178;		var MINVAL = -278;		var changeX = moveE.pageX - shiftX;		var changeY = moveE.pageY - shiftY;		if (changeX > MAXVAL){			changeX = MAXVAL		} else if (changeX < MINVAL) {			changeX = MINVAL;		}		if (changeY > MAXVAL) {			changeY = MAXVAL;		} else if (changeY < MINVAL) {			changeY = MINVAL;		}		mainImage.setAttribute('x', changeX);		mainImage.setAttribute('y', changeY);	};	var onMouseUp = function (upE) {		upE.preventDefault();		document.removeEventListener('mousemove', onMouseMove);		document.removeEventListener('mouseup', onMouseUp);	};	document.addEventListener('mousemove', onMouseMove);	document.addEventListener('mouseup', onMouseUp);});})();